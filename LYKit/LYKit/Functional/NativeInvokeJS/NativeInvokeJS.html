<html>
 <head></head>
 <body> 
  <p style="text-align: center ;background-color: #ff0000"> 点击下方图片，实现JS调用OC</p> 
  <p style="text-align:center"> <img style="display: block;-webkit-user-select: none;margin: auto;background-color: hsl(0, 0%, 90%);transition: background-color 300ms;" src="https://www.baidu.com/img/PCtm_d9c8750bed0b3c7d089fa7d55720d6cf.png" width="270" height="129" align="middle"  onclick="clickImage()" /> </p>
  <p style="text-align:center"> <a href="juejin://url?https://juejin.cn/user/809699486734439">掘金主页</a> ：通过截获URL调用OC</p> 
  <p style="text-align:center"> <button id="btn2" type="button" onclick="jsInvokeOcFunction()"> JS调用OC </button> </p>
  <!--        JS语法--> 
  <script type="text/javascript">
    
    function jsInvokeOcFunction()
    {
        window.webkit.messageHandlers.JSInvokeOC.postMessage({"params":"JS传给OC的参数信息"});
    }

    //图片点击事件
    function clickImage()
    {
        alert("点击了图片");
    }
    
    //OC调用JS改变背景色
    function changeColor(parameter)
    {
        document.body.style.backgroundColor = randomColor();
    }
    
    //随机生成颜色
    function randomColor()
    {
        var r=Math.floor(Math.random()*256);
        var g=Math.floor(Math.random()*256);
        var b=Math.floor(Math.random()*256);
        return "rgb("+r+','+g+','+b+")";//所有方法的拼接都可以用ES6新特性`其他字符串{$变量名}`替换
    }
    
    </script>   
 </body>
</html>
